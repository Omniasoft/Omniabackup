#!/usr/bin/php
<?php
// Include
include('src/OmniaShell.php');

// Create the shell
$shell = new Omniashell();

// Check basic arguments
if($argc <= 2 && @$argv[1] != 'help')
{
	$shell->help();
	die("Not enough arguments");
}

// The main interperter
$cmd = strtolower($argv[1]);
$user = strtolower($argv[2]);
@$project = ($argv[3] == '-P') ? strtolower($argv[4]) : null;
@$args = array_slice($argv, (($argv[3] == '-P') ? 5 : 3));

switch($cmd)
{
	case 'help':
		$shell->help();
	break;
	case 'devadd':
		$shell->devadd($user, $args);
	break;
	case 'devdelete':
		$shell->devdelete($user);
	break;
	case 'projectadd':
		if(empty($project))
			die(printf("No project given"));
		$shell->projectadd($user, $project);
	break;
	case 'projectdel':
		if(empty($project))
			die(printf("No project given"));
		$shell->projectdel($user, $project);
	break;
	default:
		printf("Not a valid command, see help.");
}